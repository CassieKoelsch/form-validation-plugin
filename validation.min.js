 /**
  * Validation JS
  *
  * @author Cassie Herd
  * @options
  *     success: function(){},
  *     failure: function(){},
  *     emails: [],
  *     required: []
  */
$(function(){$.fn.validation=function(r){var e=$.extend({success:function(){},failure:function(){},emails:[],required:[]},r);return this.each(function(){var r={errors:[],validateEmail:function(e,i){i.each(function(){var i=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i;if(!i.test($(this).val())){var a=$(this).attr("id"),s=$(e).find("label[for="+a+"]");$(this).addClass("error"),$(s).addClass("error"),r.errors.push({label:$(s),field:$(this)})}})},validateRequired:function(e,i){i.each(function(){if($(this).is(":checkbox")&&r.validateChecked(e,$(this)),!$(this).val()){var i=$(this).attr("id"),a=$(e).find("label[for="+i+"]");$(this).addClass("error"),$(a).addClass("error"),r.errors.push({label:$(a),field:$(this)})}})},validateChecked:function(e,i){if(!i.prop("checked")){var a=i.attr("id"),s=$(e).find("label[for="+a+"]");i.addClass("error"),$(s).addClass("error"),r.errors.push({label:$(s),field:i})}},reset:function(e){this.errors=r.errors=[],e.find(".error").removeClass("error")},isValid:function(){return 0==r.errors.length}};$(this).attr("novalidate",!0).on("submit",function(i){var a=$("[required][type=email]").add(e.emails),s=$("[required]").add(e.required);r.reset($(this)),r.validateEmail($(this),$(this).find(a)),r.validateRequired($(this),$(this).find(s)),r.isValid()&&e.success({form:$(this),event:i})||!r.isValid()&&e.failure({form:$(this),event:i,errors:r.errors})})})}}(jQuery));
